[
    {
      "name": "errors_percent",
      "type": "and",
      "and":{
        "and_sub_policy": [
          {
            "name": "errors_policy",
            "type": "status_code",
            "status_code": {"status_codes": ["ERROR"]}
          },
          {
            "name": "sample_percent",
            "type": "probabilistic",
            "probabilistic":{
              "sampling_percentage": 1.0
            }
          }
        ]
      }
    },
    {
      "name": "latency-policy-500ms",
      "type": "latency",
      "latency": { "threshold_ms": 500 }
    },
    {
      "name": "latency-policy-500ms",
      "type": "latency",
      "latency": { "upper_threshold_ms": 0.1 }
    },
    {
      "name": "large_traces",
      "type": "span_count",
      "span_count":{
        "min_spans": 40
      }
    },    
    {
      "name": "high_price_requests",
      "type": "numeric_attribute",
      "numeric_attribute": {
        "key": "total",
        "min_value": 500
      }
    },
    {
      "name": "high_volume_itens",
      "type": "numeric_attribute",
      "numeric_attribute": {
        "key": "stock.itens",
        "min_value": 10
      }
    },
    {
      "name": "high_number_orders",
      "type": "numeric_attribute",
      "numeric_attribute": {
        "key": "number.of.orders",
        "min_value": 4
      }
    },
    {
      "name": "declined_payment_percent",
      "type": "and",
      "and":{
        "and_sub_policy": [
          {
            "name": "declined_payment",
            "type": "string_attribute",
            "string_attribute":{
              "key": "payment.status",
              "values": ["declined"]
            }
          },
          {
            "name": "sample_percent",
            "type": "probabilistic",
            "probabilistic":{
              "sampling_percentage": 10.0
            }
          }
        ]
      }
    },
    {
      "name": "batch_size",
      "type": "numeric_attribute",
      "numeric_attribute": {
        "key": "batch.request.size",
        "min_value": 3
      }
    },
    {
      "name": "probability-policy-15",
      "type": "probabilistic",
      "probabilistic": { "sampling_percentage": 10 }
    },
    {
      "name": "probability-policy-15",
      "type": "probabilistic",
      "probabilistic": { "sampling_percentage": 20 }
    },
    {
      "name": "change_percent",
      "type": "and",
      "and":{
        "and_sub_policy": [
          {
            "name": "http_data_operations",
            "type": "string_attribute",
            "string_attribute":{
              "key": "http.method",
              "values": ["POST", "PUT", "DELETE"]
            }
          },
          {
            "name": "sample_percent",
            "type": "probabilistic",
            "probabilistic":{
              "sampling_percentage": 1
            }
          }
        ]
      }
    },
        {
      "name": "slow-db-queries",
      "type": "and",
      "and":{
        "and_sub_policy": [
          {
            "name": "is-db-span",
            "type": "string_attribute",
            "string_attribute":{
              "key": "db.system"
            }
          },
          {
            "name": "db-query-latency",
            "type": "latency",
            "latency":{"threshold_ms": 500}
          }
        ]
      }
    },
        {
      "name": "products_percent",
      "type": "and",
      "and":{
        "and_sub_policy": [
          {
            "name": "cproducts_service",
            "type": "string_attribute",
            "string_attribute":{
              "key": "http.route",
              "values": ["/products/"]
            }
          },
          {
            "name": "sample_percent",
            "type": "probabilistic",
            "probabilistic":{
              "sampling_percentage": 1
            }
          }
        ]
      }
    }
]